int sub_8107374()
{
  signed int i; // r1@1
  __int16 v1; // r0@5
  int v3; // [sp+10h] [bp-4h]@0

  for ( i = 33646592; v2016800 != 2; i = 33646592 )
  {
    if ( v2016800 == 1 )
    {
      if ( *(_WORD *)(i + 2) )
      {
        call_via_r0(*(&gUnknown_083F6144 + *v2039238));
      }
      else
      {
        *(_BYTE *)(v2016801 + 0x2016804) = 0;
        v2016810 |= 1u;
      }
      if ( v2016810 & 1 )
      {
        ++v2016801;
        if ( v2016801 > 3u || v2016810 & 8 )
          ++v2016800;
        else
          v2016800 = 0;
        v2016810 &= 0xFEu;
      }
    }
    else if ( (signed int)v2016800 <= 1 && !v2016800 )
    {
      v2039238 = *(&BattleAIs + v2016811);
      v1 = *(_BYTE *)(v2016801 + 88 * v2024C07 + 0x2024AA4);
      if ( *(_BYTE *)(v2016801 + 88 * v2024C07 + 0x2024AA4) )
        v1 = *(_WORD *)(2 * v2016801 + 88 * v2024C07 + 0x2024A8C);
      v2016802 = v1;
      ++v2016800;
    }
  }
  return v3;
}
