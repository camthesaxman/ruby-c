int sub_8101BA4()
{
  unsigned int v0; // r7@1
  signed __int16 *v1; // r5@2
  int v3; // [sp+18h] [bp-4h]@0

  sub_81019EC();
  v2000000 = 0;
  v2000002 = 0;
  v2000003 = Random() & 1;
  v2000004 = 0;
  v2000008 = 0;
  v200000A = 0;
  v200000B = 0;
  v200000C = v2025BC8;
  v200000E = 0;
  v2000010 = 0;
  v2000012 = 0;
  v2000018 = 0;
  v200001A = 8;
  v2000058 = 240;
  v200005A = 160;
  v200005C = 63;
  v200005E = 63;
  v2000060 = current_map_music_get();
  v0 = 0;
  do
  {
    *(_WORD *)(2 * v0 + 0x2000022) = 0;
    *(_WORD *)(2 * v0 + 0x2000028) = *(&gUnknown_083ECCF8[2 * v0] + v2000003) % 21;
    v1 = (signed __int16 *)(2 * v0 + 33554460);
    *v1 = 504 - 24 * *(_WORD *)(2 * v0 + 0x2000028);
    *v1 %= 504;
    v0 = (v0 + 1) & 0xFF;
  }
  while ( v0 <= 2 );
  return v3;
}
